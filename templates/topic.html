{% extends "base.html" %}

{% block content %}
<section class="intro">
    <h1>{{ topic.title }}</h1>
    <p>{{ topic.description }}</p>
</section>
<section class="comments">
    <h2>Comments</h2>
    <ul>
        {% if topic.comments %}
            {% for comment in topic.comments %}
            <li>
                <strong>{{ comment.author }}:</strong> {{ comment.text }}
            </li>
            {% endfor %}
        {% else %}
            <p>No comments yet. Be the first to comment!</p>
        {% endif %}
    </ul>
</section>
<section class="add-comment">
    <h2>Add a Comment</h2>
    <form action="{{ url_for('add_post', topic_id=topic.id) }}" method="POST">
        <!-- CSRF защита (ако се използва Flask-WTF) -->
        {{ form.hidden_tag() }}
        
        <label for="name">Your Name:</label>
        <input type="text" id="name" name="name" placeholder="Enter your name" required>
        <br>
        
        <label for="comment">Comment:</label>
        <textarea id="comment" name="comment" rows="4" placeholder="Write your comment here" required></textarea>
        <br>
        
        <button type="submit">Submit Comment</button>
    </form>
</section>
{% endblock %}
